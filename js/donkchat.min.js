function connect(){let e=document.getElementById("username")?.value?.trim()?.toLowerCase();if(!e)return;document.getElementById("username").style.display="none",document.getElementById("connect").style.display="none";let n=document.getElementById("chat"),t={options:{clientId:"skclrgbpcxovmezvzpx8yelb3jpn6q",debug:!1},connection:{secure:!0,reconnect:!0},channels:[e]},c=new tmi.client(t);c.on("message",(async(e,t,c,o)=>{n.appendChild(document.createTextNode(`${t["display-name"]}: ${c}`)),n.appendChild(document.createElement("br")),n.scrollIntoView(!1)})),c.on("timeout",((e,t,c,o,d)=>{n.appendChild(document.createTextNode(`${t} got timed out for ${o}s`)),n.appendChild(document.createElement("br")),n.scrollIntoView(!1)})),c.on("connected",(async(e,t)=>{n.appendChild(document.createTextNode(`Connected to ${e}:${t}`)),n.appendChild(document.createElement("br")),n.scrollIntoView(!1)})),c.on("disconnected",(e=>{n.appendChild(document.createTextNode(`Disconnected: ${e}`)),n.appendChild(document.createElement("br")),n.scrollIntoView(!1)})),c.on("notice",((e,t,c)=>{n.appendChild(document.createTextNode(`Disconnected: ${e} - ${t} - ${c}`)),n.appendChild(document.createElement("br")),n.scrollIntoView(!1)})),c.connect().catch(console.error)}